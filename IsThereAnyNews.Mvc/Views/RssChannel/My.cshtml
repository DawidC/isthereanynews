@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container">
    <div class="row">
        <div class="col-lg-12">
            @using (Html.BeginForm("AddChannel", "RssChannel"))
            {
                <div class="form-group">
                    <label for="rssChannelLink">Rss channel link</label>
                    <input type="url" name="rssChannelLink" class="form-control" />
                </div>
                <div class="form-group">
                    <label for="rssChannelName">Rss channel name</label>
                    <input type="text" name="rssChannelName" class="form-control" />
                </div>
                <button type="submit" name="add channel" class="btn btn-default pull-right">Add channel</button>
            }
        </div>
    </div>
    <div class="row">
        <div class="col-lg-3 nocss-mychannel-list">
            @Html.Action("MyChannelList")
        </div>
        <div class="col-lg-9 nocss-rsschannel-container">
            <h2>Select channel to see news</h2>
        </div>
    </div>
</div>
<script src="~/Scripts/itan/RssChannel_My.js"></script>

<script type="text/javascript">

    var onSuccessShowPreviewText = function() {};
    var onErrorShowPreviewText = function () { };

    var onShowPreviewText = function (e) {
        var element = $(e.currentTarget);

        var ajaxOptions = {
            url: element.data("url-mark-as-read"),
            method: "POST",
            success: onSuccessShowPreviewText,
            error: onErrorShowPreviewText
        }

        $.ajax(ajaxOptions);
    }

    var onDocumentReady = function () {
        $(".nocss-rsschannel-container").on("click", ".nocss-show-preview-text", onShowPreviewText);
    }

    $(document).ready(onDocumentReady);
</script>